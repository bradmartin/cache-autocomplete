!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("cacheautocomplete",[],t):"object"==typeof exports?exports.cacheautocomplete=t():e.cacheautocomplete=t()}(this,function(){return function(e){function t(e){delete installedChunks[e]}function n(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=f.p+""+e+"."+b+".hot-update.js",t.appendChild(n)}function r(){return new Promise(function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var n=new XMLHttpRequest,r=f.p+""+b+".hot-update.json";n.open("GET",r,!0),n.timeout=1e4,n.send(null)}catch(e){return t(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)t(new Error("Manifest request to "+r+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)t(new Error("Manifest request to "+r+" failed."));else{try{var o=JSON.parse(n.responseText)}catch(e){return void t(e)}e(o)}}})}function o(e){var t=H[e];if(!t)return f;var n=function(n){return t.hot.active?(H[n]?H[n].parents.indexOf(e)<0&&H[n].parents.push(e):O=[e],t.children.indexOf(n)<0&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),O=[]),x=!1,f(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return f[e]},set:function(t){f[e]=t}}};for(var o in f)Object.prototype.hasOwnProperty.call(f,o)&&Object.defineProperty(n,o,r(o));return Object.defineProperty(n,"e",{enumerable:!0,value:function(e){function t(){_--,"prepare"===k&&(I[e]||s(e),0===_&&0===D&&u())}return"ready"===k&&a("prepare"),_++,f.e(e).then(t,function(e){throw t(),e})}}),n}function i(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:x,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:d,apply:p,status:function(e){if(!e)return k;C.push(e)},addStatusHandler:function(e){C.push(e)},removeStatusHandler:function(e){var t=C.indexOf(e);t>=0&&C.splice(t,1)},data:w[e]};return x=!0,t}function a(e){k=e;for(var t=0;t<C.length;t++)C[t].call(null,e)}function c(e){return+e+""===e?+e:e}function d(e){if("idle"!==k)throw new Error("check() is only allowed in idle status");return y=e,a("check"),r().then(function(e){if(!e)return a("idle"),null;j={},I={},S=e.c,m=e.h,a("prepare");var t=new Promise(function(e,t){v={resolve:e,reject:t}});return g={},s(0),"prepare"===k&&0===_&&0===D&&u(),t})}function l(e,t){if(S[e]&&j[e]){j[e]=!1;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(g[n]=t[n]);0==--D&&0===_&&u()}}function s(e){S[e]?(j[e]=!0,D++,n(e)):I[e]=!0}function u(){a("ready");var e=v;if(v=null,e)if(y)p(y).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in g)Object.prototype.hasOwnProperty.call(g,n)&&t.push(c(n));e.resolve(t)}}function p(n){function r(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var i=r.pop(),a=i.id,c=i.chain;if((s=H[a])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:a};if(s.hot._main)return{type:"unaccepted",chain:c,moduleId:a};for(var d=0;d<s.parents.length;d++){var l=s.parents[d],u=H[l];if(u){if(u.hot._declinedDependencies[a])return{type:"declined",chain:c.concat([l]),moduleId:a,parentId:l};t.indexOf(l)>=0||(u.hot._acceptedDependencies[a]?(n[l]||(n[l]=[]),o(n[l],[a])):(delete n[l],t.push(l),r.push({chain:c.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.indexOf(r)<0&&e.push(r)}}if("ready"!==k)throw new Error("apply() is only allowed in ready status");n=n||{};var i,d,l,s,u,p={},h=[],v={},y=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var x in g)if(Object.prototype.hasOwnProperty.call(g,x)){u=c(x);var E;E=g[x]?r(u):{type:"disposed",moduleId:x};var C=!1,D=!1,_=!1,I="";switch(E.chain&&(I="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":n.onDeclined&&n.onDeclined(E),n.ignoreDeclined||(C=new Error("Aborted because of self decline: "+E.moduleId+I));break;case"declined":n.onDeclined&&n.onDeclined(E),n.ignoreDeclined||(C=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+I));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(E),n.ignoreUnaccepted||(C=new Error("Aborted because "+u+" is not accepted"+I));break;case"accepted":n.onAccepted&&n.onAccepted(E),D=!0;break;case"disposed":n.onDisposed&&n.onDisposed(E),_=!0;break;default:throw new Error("Unexception type "+E.type)}if(C)return a("abort"),Promise.reject(C);if(D){v[u]=g[u],o(h,E.outdatedModules);for(u in E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,u)&&(p[u]||(p[u]=[]),o(p[u],E.outdatedDependencies[u]))}_&&(o(h,[E.moduleId]),v[u]=y)}var j=[];for(d=0;d<h.length;d++)u=h[d],H[u]&&H[u].hot._selfAccepted&&j.push({module:u,errorHandler:H[u].hot._selfAccepted});a("dispose"),Object.keys(S).forEach(function(e){S[e]===!1&&t(e)});for(var A,P=h.slice();P.length>0;)if(u=P.pop(),s=H[u]){var L={},N=s.hot._disposeHandlers;for(l=0;l<N.length;l++)(i=N[l])(L);for(w[u]=L,s.hot.active=!1,delete H[u],l=0;l<s.children.length;l++){var M=H[s.children[l]];M&&(A=M.parents.indexOf(u))>=0&&M.parents.splice(A,1)}}var U,q;for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(s=H[u]))for(q=p[u],l=0;l<q.length;l++)U=q[l],(A=s.children.indexOf(U))>=0&&s.children.splice(A,1);a("apply"),b=m;for(u in v)Object.prototype.hasOwnProperty.call(v,u)&&(e[u]=v[u]);var R=null;for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)){s=H[u],q=p[u];var T=[];for(d=0;d<q.length;d++)U=q[d],i=s.hot._acceptedDependencies[U],T.indexOf(i)>=0||T.push(i);for(d=0;d<T.length;d++){i=T[d];try{i(q)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:u,dependencyId:q[d],error:e}),n.ignoreErrored||R||(R=e)}}}for(d=0;d<j.length;d++){var B=j[d];u=B.module,O=[u];try{f(u)}catch(e){if("function"==typeof B.errorHandler)try{B.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:t,orginalError:e}),n.ignoreErrored||R||(R=t),R||(R=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:u,error:e}),n.ignoreErrored||R||(R=e)}}return R?(a("fail"),Promise.reject(R)):(a("idle"),Promise.resolve(h))}function f(t){if(H[t])return H[t].exports;var n=H[t]={i:t,l:!1,exports:{},hot:i(t),parents:(E=O,O=[],E),children:[]};return e[t].call(n.exports,n,n.exports,o(t)),n.l=!0,n.exports}var h=this.webpackHotUpdatecacheautocomplete;this.webpackHotUpdatecacheautocomplete=function(e,t){l(e,t),h&&h(e,t)};var v,g,m,y=!0,b="0fac96349a42cddf3280",w={},x=!0,O=[],E=[],C=[],k="idle",D=0,_=0,I={},j={},S={},H={};return f.m=e,f.c=H,f.i=function(e){return e},f.d=function(e,t,n){f.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},f.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(t,"a",t),t},f.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},f.p="",f.h=function(){return b},o(0)(f.s=0)}([function(e,t,n){"use strict";function r(e){f=e.rootElement,b=!e.cache||e.cache,m=e.onItemSelect,v=document.createElement("ul"),f.addEventListener("keydown",function(e){if(9===e.keyCode&&y.length>0){e.preventDefault();var t=v.childNodes[0];t.focus()}if(40===e.keyCode&&y.length>0){e.preventDefault();var t=v.childNodes[0];t.focus()}}),f.addEventListener("keyup",function(t){var n=t.target;if(""===n.value)return void s();var r=e.minStringLength?e.minStringLength:2;n.value.trim().length>=r&&(g=e.queryUrl.replace("{{ value }}",encodeURIComponent(f.value)),a(g,!1).then(function(t){l(),t&&"string"==typeof t&&(t=JSON.parse(t)),t&&(d(t,e.itemTemplate,e.listClass,e.itemClass),document.addEventListener("click",i))},function(t){l(),d([{key:"No Matches"}],"<p>No Matches</p>",e.listClass,e.itemClass,!0),document.addEventListener("click",i),window.addEventListener("resize",i)}))})}function o(e){if(e)localStorage.removeItem("CAC-"+e);else for(var t=localStorage.length;t--;){var n=localStorage.key(t);0===n.lastIndexOf("CAC",0)&&localStorage.removeItem(n)}}function i(e){console.log(e),y.length>0&&(l(),s())}function a(e,t){return void 0===t&&(t=!1),new Promise(function(n,r){for(var o=!1,i=localStorage.length;i--;){var a=localStorage.key(i);if(0===a.lastIndexOf("CAC",0)){a.indexOf(e)>-1===!0&&(o=!0)}if(o===!0)break}if(o&&t)p(e).then(function(t){b&&u(e,t),n(t)},function(e){r(e)});else if(o&&!t){var c=localStorage.getItem("CAC-"+e);n(JSON.parse(c))}else o?r("get outta here"):p(e).then(function(t){b&&u(e,t),n(t)},function(e){r(e)})})}function c(e,t){for(var n=0,r=0,o=t.length;;){if((r=e.indexOf(t,r))==-1)break;n++,r+=o}return n}function d(e,t,n,r,o){void 0===o&&(o=!1);var i=c(t,"{{");console.log(i);var a=0,d=function(){var t=document.createElement("li");t.id=e.indexOf(e[a]).toString(),t.tabIndex=0,r?t.classList.add(r):t.setAttribute("style","\n            color: rgb(33, 33, 33); \n            padding: 6px; \n            cursor: pointer; \n            text-overflow: ellipsis;\n            padding: 0 15px;\n            overflow: hidden;\n            white-space: nowrap;\n            transition: background .15s linear;\n            background: transparent;\n            "),o||(t.addEventListener("keydown",function(n){var r=n.target;if(13===n.keyCode){var o=e[parseInt(r.id,10)];s(),m(o)}if(40===n.keyCode&&y.length>0){n.preventDefault();var i=t.nextSibling;i?"li"===i.nodeName.toLowerCase()&&i.focus():v.childNodes[0].focus()}if(38===n.keyCode&&y.length>0){n.preventDefault();var a=t.previousSibling;a?"li"===a.nodeName.toLowerCase()&&a.focus():f.focus()}}),t.addEventListener("click",function(t){var n=t.target;if(n&&"li"===n.nodeName.toLowerCase()){var r=e[parseInt(n.id,10)];s(),m&&m(r)}})),y.push(t),v.appendChild(t)};for(a;a<e.length;a++)d();v.setAttribute("style","list-style: none; padding: 0; margin: 0;");var l=document.body.getBoundingClientRect(),u=f.getBoundingClientRect(),p=u.top-l.top+f.clientHeight,g=u.left;h||(h=document.createElement("div")),n?h.classList.add(n):h.setAttribute("style","\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background-color: #fff;\n            border-radius: 0;\n            box-shadow: 0 1px 3px 0 rgba(0,0,0,.2), 0 1px 1px 0 rgba(0,0,0,.14), 0 2px 1px -1px rgba(0,0,0,.12);\n        ");var b=h.getAttribute("style").valueOf();h.setAttribute("style","\n    "+b+"\n    position: absolute;\n    top: "+p.toString()+";\n    left: "+g.toString()+';\n    zIndex: "999999999";\n    overflowY: "auto";\n    maxHeight: "300px";\n    width: '+f.clientWidth.toString()+"px;\n    "),h.appendChild(v),document.body.appendChild(h),v.focus()}function l(){if(v.getElementsByTagName("li").length>0){for(;v.firstChild;)v.removeChild(v.firstChild);y=[]}}function s(){h&&h.parentNode&&h.parentNode.removeChild(h),document.removeEventListener("click",i),window.removeEventListener("resize",i)}function u(e,t){localStorage&&localStorage.setItem("CAC- "+e,JSON.stringify(t))}function p(e,t){return void 0===t&&(t="GET"),new Promise(function(n,r){var o=new XMLHttpRequest;o.open(t,e,!0),o.onloadend=function(){o.status>=200&&o.status<300?n(o.response):r(o.statusText)},o.send()})}Object.defineProperty(t,"__esModule",{value:!0});var f,h,v,g,m,y=[],b=!0;t.create=r,t.clearCache=o}])});
//# sourceMappingURL=cacheautocomplete.js.map